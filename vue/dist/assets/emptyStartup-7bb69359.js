import{d as L,j as ue,v as V,Y as de,u as Z,_ as ye,a as G,Z as we,$ as pe,h as F,c as p,P as Y,s as Oe,a0 as xe,a1 as $e,a2 as Se,a3 as ve,r as fe,a4 as Ie,U as q,a5 as x,a6 as j,V as he,a7 as Pe,a8 as W,a9 as Te,aa as E,ab as ze,ac as Re,o as _,z as U,A as b,m as S,t as d,ad as Me,X as Ne,M as Ae,ae as De,af as te,k as O,l,B as v,p as M,C as z,ag as ne,n as D,I as H,ah as X,ai as Fe,aj as je,ak as Be,W as Ge,al as Ve,am as Ee,q as Le}from"./index-6c2db580.js";import{D as He}from"./index-3270d12b.js";import{V as Ue}from"./index-14a9dcde.js";var qe=["prefixCls","id"],me=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:Y.any,name:String,id:String,autofocus:{type:Boolean,default:void 0},onChange:Function,onFocus:Function,onBlur:Function,onClick:Function,"onUpdate:checked":Function,"onUpdate:value":Function}};const I=L({compatConfig:{MODE:3},name:"ARadio",props:me(),setup:function(e,t){var s=t.emit,u=t.expose,m=t.slots,f=ue(),k=V(),C=de("radioGroupContext",void 0),T=Z("radio",e),w=T.prefixCls,R=T.direction,B=function(){k.value.focus()},P=function(){k.value.blur()};u({focus:B,blur:P});var n=function(i){var g=i.target.checked;s("update:checked",g),s("update:value",g),s("change",i),f.onFieldChange()},r=function(i){s("change",i),C&&C.onRadioChange&&C.onRadioChange(i)};return function(){var c,i=C;e.prefixCls;var g=e.id,$=g===void 0?f.id.value:g,A=ye(e,qe),y=G({prefixCls:w.value,id:$},we(A,["onUpdate:checked","onUpdate:value"]));i?(y.name=i.props.name,y.onChange=r,y.checked=e.value===i.stateValue.value,y.disabled=e.disabled||i.props.disabled):y.onChange=n;var N=pe((c={},F(c,"".concat(w.value,"-wrapper"),!0),F(c,"".concat(w.value,"-wrapper-checked"),y.checked),F(c,"".concat(w.value,"-wrapper-disabled"),y.disabled),F(c,"".concat(w.value,"-wrapper-rtl"),R.value==="rtl"),c));return p("label",{class:N},[p(Ue,G(G({},y),{},{type:"radio",ref:k}),null),m.default&&p("span",null,[m.default()])])}}});var We=$e("large","default","small"),Qe=function(){return{prefixCls:String,value:Y.any,size:Y.oneOf(We),options:{type:Array},disabled:{type:Boolean,default:void 0},name:String,buttonStyle:{type:String,default:"outline"},id:String,optionType:{type:String,default:"default"},onChange:Function,"onUpdate:value":Function}};const ge=L({compatConfig:{MODE:3},name:"ARadioGroup",props:Qe(),setup:function(e,t){var s=t.slots,u=t.emit,m=ue(),f=Z("radio",e),k=f.prefixCls,C=f.direction,T=f.size,w=V(e.value),R=V(!1);Oe(function(){return e.value},function(P){w.value=P,R.value=!1});var B=function(n){var r=w.value,c=n.target.value;"value"in e||(w.value=c),!R.value&&c!==r&&(R.value=!0,u("update:value",c),u("change",n),m.onFieldChange()),Se(function(){R.value=!1})};return xe("radioGroupContext",{onRadioChange:B,stateValue:w,props:e}),function(){var P,n=e.options,r=e.optionType,c=e.buttonStyle,i=e.id,g=i===void 0?m.id.value:i,$="".concat(k.value,"-group"),A=pe($,"".concat($,"-").concat(c),(P={},F(P,"".concat($,"-").concat(T.value),T.value),F(P,"".concat($,"-rtl"),C.value==="rtl"),P)),y=null;if(n&&n.length>0){var N=r==="button"?"".concat(k.value,"-button"):k.value;y=n.map(function(h){if(typeof h=="string"||typeof h=="number")return p(I,{key:h,prefixCls:N,disabled:e.disabled,value:h,checked:w.value===h},{default:function(){return[h]}});var Q=h.value,be=h.disabled,ke=h.label;return p(I,{key:"radio-group-value-options-".concat(Q),prefixCls:N,disabled:be||e.disabled,value:Q,checked:w.value===Q},{default:function(){return[ke]}})})}else{var o;y=(o=s.default)===null||o===void 0?void 0:o.call(s)}return p("div",{class:A,id:g},[y])}}}),_e=L({compatConfig:{MODE:3},name:"ARadioButton",props:me(),setup:function(e,t){var s=t.slots,u=Z("radio-button",e),m=u.prefixCls,f=de("radioGroupContext",void 0);return function(){var k,C=G(G({},e),{},{prefixCls:m.value});return f&&(C.onChange=f.onRadioChange,C.checked=C.value===f.stateValue.value,C.disabled=C.disabled||f.props.disabled),p(I,C,{default:function(){return[(k=s.default)===null||k===void 0?void 0:k.call(s)]}})}}});I.Group=ge;I.Button=_e;I.install=function(a){return a.component(I.name,I),a.component(I.Group.name,I.Group),a.component(I.Button.name,I.Button),a};var Xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"};const Ye=Xe;function ae(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},s=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(t).filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable}))),s.forEach(function(u){Ze(a,u,t[u])})}return a}function Ze(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var J=function(e,t){var s=ae({},e,t.attrs);return p(ve,ae({},s,{icon:Ye}),null)};J.displayName="FileDoneOutlined";J.inheritAttrs=!1;const Je=J;var Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const et=Ke;function oe(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},s=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(t).filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable}))),s.forEach(function(u){tt(a,u,t[u])})}return a}function tt(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var K=function(e,t){var s=oe({},e,t.attrs);return p(ve,oe({},s,{icon:et}),null)};K.displayName="LockOutlined";K.inheritAttrs=!1;const le=K;const se=async a=>{const e=fe();let t;if({}.TAURI_ARCH){const s=await Ie({directory:!0});if(typeof s=="string")t=s;else return}else t=await new Promise(s=>{const u=V("");q.confirm({title:x("inputTargetFolderPath"),width:"800px",content:()=>{var m;return j("div",[(m=e.conf)!=null&&m.enable_access_control?j("a",{style:{"word-break":"break-all","margin-bottom":"4px",display:"block"},target:"_blank",href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/issues/518"},"Please open this link first (Access Control mode only)"):"",j(he,{value:u.value,"onUpdate:value":f=>u.value=f})])},async onOk(){const m=u.value;(await Pe([m]))[m]?s(u.value):W.error(x("pathDoesNotExist"))}})});q.confirm({content:x("confirmToAddToExtraPath"),async onOk(){await Te({types:[a],path:t}),W.success(x("addCompleted")),E.emit("searchIndexExpired"),E.emit("updateGlobalSetting")}})},ie=(a,e)=>{q.confirm({content:x("confirmDelete"),closable:!0,async onOk(){await ze({types:[e],path:a}),W.success(x("removeCompleted")),E.emit("searchIndexExpired"),E.emit("updateGlobalSetting")}})},re=a=>{const e=V("");q.confirm({title:x("inputAlias"),content:()=>j("div",[j("div",{style:{"word-break":"break-all","margin-bottom":"4px"}},"Path: "+a),j(he,{value:e.value,"onUpdate:value":t=>e.value=t})]),async onOk(){await Re({alias:e.value,path:a}),W.success(x("addAliasCompleted")),E.emit("updateGlobalSetting")}})},ce=L({__name:"actionContextMenu",emits:["openOnTheRight","openInNewTab"],setup(a,{emit:e}){const t=s=>{switch(s.key.toString()){case"openOnTheRight":e("openOnTheRight");break;case"openInNewTab":e("openInNewTab");break}};return(s,u)=>{const m=Ne,f=Ae,k=He;return _(),U(k,{trigger:["contextmenu"]},{overlay:b(()=>[p(f,{onClick:t},{default:b(()=>[p(m,{key:"openOnTheRight"},{default:b(()=>[S(d(s.$t("openOnTheRight")),1)]),_:1}),p(m,{key:"openInNewTab"},{default:b(()=>[S(d(s.$t("openInNewTab")),1)]),_:1})]),_:1})]),default:b(()=>[Me(s.$slots,"default")]),_:3})}}}),ee=a=>(Ve("data-v-d75d1036"),a=a(),Ee(),a),nt={class:"container"},at={class:"header"},ot={key:0,style:{"margin-left":"16px","font-size":"1.5em"}},lt=ee(()=>l("div",{"flex-placeholder":""},null,-1)),st=ee(()=>l("a",{href:"https://github.com/zanllp/sd-webui-infinite-image-browsing",target:"_blank",class:"last-record"},"Github",-1)),it={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/blob/main/.env.example",target:"_blank",class:"last-record"},rt={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/wiki/Change-log",target:"_blank",class:"last-record"},ct={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/issues/90",target:"_blank",class:"last-record"},ut={class:"access-mode-message"},dt=ee(()=>l("div",{"flex-placeholder":""},null,-1)),pt={class:"content"},vt={class:"feature-item"},ft={class:"text line-clamp-1"},ht=["onClick"],mt={class:"text line-clamp-2"},gt={key:0,class:"feature-item"},_t={class:"text line-clamp-1"},bt=["onClick"],kt={class:"text line-clamp-2"},Ct={class:"feature-item"},yt=["onClick"],wt={class:"text line-clamp-1"},Ot={class:"text line-clamp-1"},xt={class:"text line-clamp-1"},$t={class:"text line-clamp-1"},St={key:1,class:"feature-item recent"},It={class:"title"},Pt=["onClick"],Tt={class:"text line-clamp-1"},zt=L({__name:"emptyStartup",props:{tabIdx:{},paneIdx:{}},setup(a){const e=a,t=fe(),s=De(),u={local:x("local"),"tag-search":x("imgSearch"),"fuzzy-search":x("fuzzy-search"),"global-setting":x("globalSettings"),"batch-download":x("batchDownload")+" / "+x("archive")},m=(n,r,c=!1)=>{let i;switch(n){case"grid-view":case"tag-search-matched-image-grid":case"img-sli":return;case"global-setting":case"tag-search":case"batch-download":case"fuzzy-search":case"empty":i={type:n,name:u[n],key:Date.now()+X()};break;case"local":i={type:n,name:u[n],key:Date.now()+X(),path:r,walkModePath:c?r:void 0}}return i},f=(n,r,c=!1)=>{const i=m(n,r,c);if(!i)return;const g=t.tabList[e.tabIdx];g.panes.splice(e.paneIdx,1,i),g.key=i.key},k=(n,r,c=!1)=>{const i=m(n,r,c);if(!i)return;t.tabList[e.tabIdx].panes.push(i)},C=(n,r,c=!1)=>{const i=m(n,r,c);if(!i)return;let g=t.tabList[e.tabIdx+1];g||(g={panes:[],key:"",id:X()},t.tabList[e.tabIdx+1]=g),g.panes.push(i),g.key=i.key},T=te(()=>{var n;return(n=t.tabListHistoryRecord)==null?void 0:n[1]}),w=te(()=>t.quickMovePaths.filter(({key:n,types:r})=>n==="outdir_txt2img_samples"||n==="outdir_img2img_samples"||n==="outdir_txt2img_grids"||n==="outdir_img2img_grids"||r.includes("walk"))),R=window.parent!==window,B=()=>window.parent.open("/infinite_image_browsing"+(window.parent.location.href.includes("theme=dark")?"?__theme=dark":"")),P=()=>{Fe(T.value),t.tabList=je(T.value.tabs)};return(n,r)=>{var A,y,N;const c=_e,i=ge,g=Be,$=Ge;return _(),O("div",nt,[l("div",at,[l("h1",null,d(n.$t("welcome")),1),(A=v(t).conf)!=null&&A.enable_access_control&&v(t).dontShowAgain?(_(),O("div",ot,[p(v(le),{title:"Access Control mode",style:{"vertical-align":"text-bottom"}})])):M("",!0),lt,st,l("a",it,d(n.$t("privacyAndSecurity")),1),l("a",rt,d(n.$t("changlog")),1),l("a",ct,d(n.$t("faq")),1),p(i,{value:v(t).darkModeControl,"onUpdate:value":r[0]||(r[0]=o=>v(t).darkModeControl=o),"button-style":"solid"},{default:b(()=>[p(c,{value:"light"},{default:b(()=>[S("light")]),_:1}),p(c,{value:"auto"},{default:b(()=>[S("auto")]),_:1}),p(c,{value:"dark"},{default:b(()=>[S("dark")]),_:1})]),_:1},8,["value"])]),(y=v(t).conf)!=null&&y.enable_access_control&&!v(t).dontShowAgain?(_(),U(g,{key:0,"show-icon":""},{message:b(()=>[l("div",ut,[l("div",null,d(n.$t("accessControlModeTips")),1),dt,l("a",{onClick:r[1]||(r[1]=z(o=>v(t).dontShowAgain=!0,["prevent"]))},d(n.$t("dontShowAgain")),1)])]),icon:b(()=>[p(v(le))]),_:1})):M("",!0),l("div",pt,[l("div",vt,[l("h2",null,d(n.$t("walkMode")),1),l("ul",null,[l("li",{onClick:r[2]||(r[2]=o=>v(se)("walk")),class:"item"},[l("span",ft,[p(v(ne)),S(" "+d(n.$t("add")),1)])]),(_(!0),O(D,null,H(w.value,o=>(_(),U(ce,{key:o.key,onOpenInNewTab:h=>k("local",o.dir,!0),onOpenOnTheRight:h=>C("local",o.dir,!0)},{default:b(()=>[l("li",{class:"item rem",onClick:z(h=>f("local",o.dir,!0),["prevent"])},[l("span",mt,d(o.zh),1),o.can_delete?(_(),O(D,{key:0},[p($,{type:"link",onClick:z(h=>v(re)(o.dir),["stop"])},{default:b(()=>[S(d(n.$t("alias")),1)]),_:2},1032,["onClick"]),p($,{type:"link",onClick:z(h=>v(ie)(o.dir,"walk"),["stop"])},{default:b(()=>[S(d(n.$t("remove")),1)]),_:2},1032,["onClick"])],64)):M("",!0)],8,ht)]),_:2},1032,["onOpenInNewTab","onOpenOnTheRight"]))),128))])]),v(t).quickMovePaths.length?(_(),O("div",gt,[l("h2",null,d(n.$t("launchFromQuickMove")),1),l("ul",null,[l("li",{onClick:r[3]||(r[3]=o=>v(se)("scanned")),class:"item"},[l("span",_t,[p(v(ne)),S(" "+d(n.$t("add")),1)])]),(_(!0),O(D,null,H(v(t).quickMovePaths.filter(({types:o})=>o.includes("cli_access_only")||o.includes("preset")||o.includes("scanned")),o=>(_(),U(ce,{key:o.key,onOpenInNewTab:h=>k("local",o.dir),onOpenOnTheRight:h=>C("local",o.dir)},{default:b(()=>[l("li",{class:"item rem",onClick:z(h=>f("local",o.dir),["prevent"])},[l("span",kt,d(o.zh),1),o.can_delete&&o.types.includes("scanned")?(_(),O(D,{key:0},[p($,{type:"link",onClick:z(h=>v(re)(o.dir),["stop"])},{default:b(()=>[S(d(n.$t("alias")),1)]),_:2},1032,["onClick"]),p($,{type:"link",onClick:z(h=>v(ie)(o.dir,"scanned"),["stop"])},{default:b(()=>[S(d(n.$t("remove")),1)]),_:2},1032,["onClick"])],64)):M("",!0)],8,bt)]),_:2},1032,["onOpenInNewTab","onOpenOnTheRight"]))),128))])])):M("",!0),l("div",Ct,[l("h2",null,d(n.$t("launch")),1),l("ul",null,[(_(!0),O(D,null,H(Object.keys(u),o=>(_(),O("li",{key:o,class:"item",onClick:z(h=>f(o),["prevent"])},[l("span",wt,d(u[o]),1)],8,yt))),128)),l("li",{class:"item",onClick:r[4]||(r[4]=o=>v(s).opened=!0)},[l("span",Ot,d(n.$t("imgCompare")),1)]),R?(_(),O("li",{key:0,class:"item",onClick:B},[l("span",xt,d(n.$t("openInNewWindow")),1)])):M("",!0),(N=T.value)!=null&&N.tabs.length?(_(),O("li",{key:1,class:"item",onClick:P},[l("span",$t,d(n.$t("restoreLastRecord")),1)])):M("",!0)])]),v(t).recent.length?(_(),O("div",St,[l("div",It,[l("h2",null,d(n.$t("recent")),1),p($,{onClick:r[5]||(r[5]=o=>v(t).recent=[]),type:"link"},{default:b(()=>[S(d(n.$t("clear")),1)]),_:1})]),l("ul",null,[(_(!0),O(D,null,H(v(t).recent,o=>(_(),O("li",{key:o.key,class:"item",onClick:z(h=>f("local",o.path),["prevent"])},[p(v(Je),{class:"icon"}),l("span",Tt,d(o.path),1)],8,Pt))),128))])])):M("",!0)])])}}});const At=Le(zt,[["__scopeId","data-v-d75d1036"]]);export{At as default};
