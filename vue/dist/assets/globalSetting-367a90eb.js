import{Y as te,Z as ae,d as D,j as le,av as oe,w as O,$ as U,aj as E,l as q,u as ue,aw as ie,ax as de,h as $,c as a,a as P,ay as se,az as ce,g as R,aA as re,P as s,aB as G,k as X,aC as he,o as b,y as x,n as c,r as n,ai as C,m as V,C as B,p,z as M,v as w,S as z,aD as fe,I as me,x as F,A as W,q as j,E as ve,aE as ge,aF as _e,aG as pe,aH as be,V as Ce,U as ke,X as we}from"./index-35e9ee40.js";import{N as L,_ as Y,F as ye}from"./numInput-ad16e274.js";import{g as Se,C as $e}from"./shortcut-9c26d495.js";/* empty css              *//* empty css              */var Te=ae("small","default"),xe=function(){return{id:String,prefixCls:String,size:s.oneOf(Te),disabled:{type:Boolean,default:void 0},checkedChildren:s.any,unCheckedChildren:s.any,tabindex:s.oneOfType([s.string,s.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:s.oneOfType([s.string,s.number,s.looseBool]),checkedValue:s.oneOfType([s.string,s.number,s.looseBool]).def(!0),unCheckedValue:s.oneOfType([s.string,s.number,s.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}},Ie=D({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:xe(),slots:["checkedChildren","unCheckedChildren"],setup:function(e,u){var g=u.attrs,y=u.slots,h=u.expose,r=u.emit,l=le();oe(function(){O(!("defaultChecked"in g),"Switch","'defaultChecked' is deprecated, please use 'v-model:checked'"),O(!("value"in g),"Switch","`value` is not validate prop, do you mean `checked`?")});var t=U(e.checked!==void 0?e.checked:g.defaultChecked),_=E(function(){return t.value===e.checkedValue});q(function(){return e.checked},function(){t.value=e.checked});var m=ue("switch",e),f=m.prefixCls,A=m.direction,I=m.size,S=U(),T=function(){var o;(o=S.value)===null||o===void 0||o.focus()},i=function(){var o;(o=S.value)===null||o===void 0||o.blur()};h({focus:T,blur:i}),ie(function(){de(function(){e.autofocus&&!e.disabled&&S.value.focus()})});var v=function(o,k){e.disabled||(r("update:checked",o),r("change",o,k),l.onFieldChange())},K=function(o){r("blur",o)},J=function(o){T();var k=_.value?e.unCheckedValue:e.checkedValue;v(k,o),r("click",k,o)},Q=function(o){o.keyCode===G.LEFT?v(e.unCheckedValue,o):o.keyCode===G.RIGHT&&v(e.checkedValue,o),r("keydown",o)},ee=function(o){var k;(k=S.value)===null||k===void 0||k.blur(),r("mouseup",o)},ne=E(function(){var d;return d={},$(d,"".concat(f.value,"-small"),I.value==="small"),$(d,"".concat(f.value,"-loading"),e.loading),$(d,"".concat(f.value,"-checked"),_.value),$(d,"".concat(f.value,"-disabled"),e.disabled),$(d,f.value,!0),$(d,"".concat(f.value,"-rtl"),A.value==="rtl"),d});return function(){var d;return a(re,{insertExtraNode:!0},{default:function(){return[a("button",P(P(P({},se(e,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),g),{},{id:(d=e.id)!==null&&d!==void 0?d:l.id.value,onKeydown:Q,onClick:J,onBlur:K,onMouseup:ee,type:"button",role:"switch","aria-checked":t.value,disabled:e.disabled||e.loading,class:[g.class,ne.value],ref:S}),[a("div",{class:"".concat(f.value,"-handle")},[e.loading?a(ce,{class:"".concat(f.value,"-loading-icon")},null):null]),a("span",{class:"".concat(f.value,"-inner")},[_.value?R(y,e,"checkedChildren"):R(y,e,"unCheckedChildren")])])]}})}}});const Z=te(Ie);const H="/infinite_image_browsing/fe-static/assets/sample-55dcafc6.webp",Fe=["width","height","src"],Ve=D({__name:"ImageSetting",setup(N){function e(y,h){return new Promise(r=>{const l=new Image;l.onload=()=>{const t=document.createElement("canvas");t.width=l.width*h,t.height=l.height*h,t.getContext("2d").drawImage(l,0,0,t.width,t.height),r(t.toDataURL())},l.src=y})}const u=X(),g=U("");return q(()=>[u.enableThumbnail,u.gridThumbnailResolution],he(async()=>{u.enableThumbnail&&(g.value=await e(H,u.gridThumbnailResolution/1024))},300),{immediate:!0,deep:!0}),(y,h)=>{const r=Y,l=Z;return b(),x(M,null,[a(r,{label:n(C)("defaultGridCellWidth")},{default:c(()=>[a(L,{min:64,max:1024,step:32,modelValue:n(u).defaultGridCellWidth,"onUpdate:modelValue":h[0]||(h[0]=t=>n(u).defaultGridCellWidth=t)},null,8,["modelValue"])]),_:1},8,["label"]),a(r,{label:n(C)("useThumbnailPreview")},{default:c(()=>[a(l,{checked:n(u).enableThumbnail,"onUpdate:checked":h[1]||(h[1]=t=>n(u).enableThumbnail=t)},null,8,["checked"])]),_:1},8,["label"]),n(u).enableThumbnail?(b(),V(r,{key:0,label:n(C)("thumbnailResolution")},{default:c(()=>[a(L,{modelValue:n(u).gridThumbnailResolution,"onUpdate:modelValue":h[2]||(h[2]=t=>n(u).gridThumbnailResolution=t),min:256,max:1024,step:64},null,8,["modelValue"])]),_:1},8,["label"])):B("",!0),a(r,{label:n(C)("livePreview")},{default:c(()=>[p("div",null,[p("img",{width:n(u).defaultGridCellWidth,height:n(u).defaultGridCellWidth,src:n(u).enableThumbnail?g.value:n(H)},null,8,Fe)])]),_:1},8,["label"])],64)}}}),Be={class:"panel"},Me={style:{"margin-top":"0"}},Ue={class:"lang-select-wrap"},Ne={class:"col"},Ae={class:"col"},Ke={class:"col"},Pe=D({__name:"globalSetting",setup(N){const e=X(),u=U(!1),g=async()=>{window.location.reload()},y=[{value:"en",text:"English"},{value:"zh",text:"中文"},{value:"de",text:"Deutsch"}],h=(l,t)=>{const _=Se(l);_&&(e.shortcut[t]=_)},r=async()=>{await ge("shutdown_api_server_command"),await _e.removeFile(pe),await be()};return(l,t)=>{const _=Z,m=Y,f=Ce,A=$e,I=ke,S=ye;return b(),x("div",Be,[B("",!0),a(S,null,{default:c(()=>{var T;return[p("h2",Me,w(n(C)("ImageBrowsingSettings")),1),a(Ve),p("h2",null,w(n(C)("other")),1),a(m,{label:l.$t("onlyFoldersAndImages")},{default:c(()=>[a(_,{checked:n(e).onlyFoldersAndImages,"onUpdate:checked":t[0]||(t[0]=i=>n(e).onlyFoldersAndImages=i)},null,8,["checked"])]),_:1},8,["label"]),a(m,{label:l.$t("defaultSortingMethod")},{default:c(()=>[a(n(z),{value:n(e).defaultSortingMethod,"onUpdate:value":t[1]||(t[1]=i=>n(e).defaultSortingMethod=i),conv:n(fe),options:n(me)},null,8,["value","conv","options"])]),_:1},8,["label"]),a(m,{label:l.$t("longPressOpenContextMenu")},{default:c(()=>[a(_,{checked:n(e).longPressOpenContextMenu,"onUpdate:checked":t[2]||(t[2]=i=>n(e).longPressOpenContextMenu=i)},null,8,["checked"])]),_:1},8,["label"]),a(m,{label:l.$t("lang")},{default:c(()=>[p("div",Ue,[a(n(z),{options:y,value:n(e).lang,"onUpdate:value":t[3]||(t[3]=i=>n(e).lang=i),onChange:t[4]||(t[4]=i=>u.value=!0)},null,8,["value"])]),u.value?(b(),V(f,{key:0,type:"primary",onClick:g,ghost:""},{default:c(()=>[F(w(n(C)("langChangeReload")),1)]),_:1})):B("",!0)]),_:1},8,["label"]),(b(!0),x(M,null,W(n(e).ignoredConfirmActions,(i,v)=>(b(),V(m,{label:l.$t(v+"SkipConfirm"),key:v},{default:c(()=>[a(A,{checked:n(e).ignoredConfirmActions[v],"onUpdate:checked":K=>n(e).ignoredConfirmActions[v]=K},null,8,["checked","onUpdate:checked"])]),_:2},1032,["label"]))),128)),p("h2",null,w(n(C)("shortcutKey")),1),a(m,{label:l.$t("deleteSelected")},{default:c(()=>[p("div",Ne,[a(I,{value:n(e).shortcut.delete,onKeydown:t[5]||(t[5]=j(i=>h(i,"delete"),["stop","prevent"])),placeholder:l.$t("shortcutKeyDescription")},null,8,["value","placeholder"]),a(f,{onClick:t[6]||(t[6]=i=>n(e).shortcut.delete=""),class:"clear-btn"},{default:c(()=>[F(w(l.$t("clear")),1)]),_:1})])]),_:1},8,["label"]),(b(!0),x(M,null,W(((T=n(e).conf)==null?void 0:T.all_custom_tags)??[],i=>(b(),V(m,{label:l.$t("toggleTagSelection",{tag:i.name}),key:i.id},{default:c(()=>[p("div",Ae,[a(I,{value:n(e).shortcut[`toggle_tag_${i.name}`],onKeydown:j(v=>h(v,`toggle_tag_${i.name}`),["stop","prevent"]),placeholder:l.$t("shortcutKeyDescription")},null,8,["value","onKeydown","placeholder"]),a(f,{onClick:v=>n(e).shortcut[`toggle_tag_${i.name}`]="",class:"clear-btn"},{default:c(()=>[F(w(l.$t("clear")),1)]),_:2},1032,["onClick"])])]),_:2},1032,["label"]))),128)),n(ve)?(b(),x(M,{key:0},[p("h2",null,w(n(C)("clientSpecificSettings")),1),a(m,null,{default:c(()=>[p("div",Ke,[a(f,{onClick:r,class:"clear-btn"},{default:c(()=>[F(w(l.$t("initiateSoftwareStartupConfig")),1)]),_:1})])]),_:1})],64)):B("",!0)]}),_:1})])}}});const ze=we(Pe,[["__scopeId","data-v-4633948c"]]);export{ze as default};
