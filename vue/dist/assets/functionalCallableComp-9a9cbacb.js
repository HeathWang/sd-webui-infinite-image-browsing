import{cR as m,c as s,af as f,c6 as r,Q as i,cS as g,K as d,U as h,cz as v,ah as o,al as y,ak as w,Z as b,T as O,cp as x,x as I}from"./index-5f58fa79.js";import{j as S}from"./db-5a33988f.js";var u=1/0,F=17976931348623157e292;function E(t){if(!t)return t===0?t:0;if(t=m(t),t===u||t===-u){var e=t<0?-1:1;return e*F}return t===t?t:0}function P(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const N=k;function p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),a.forEach(function(l){D(t,l,n[l])})}return t}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(e,n){var a=p({},e,n.attrs);return s(f,p({},a,{icon:N}),null)};c.displayName="DownloadOutlined";c.inheritAttrs=!1;const M=c,V=async t=>(await r.value.get("/files",{params:{folder_path:t}})).data,_=async t=>(await r.value.post("/delete_files",{file_paths:t})).data,R=async(t,e,n)=>(await r.value.post("/move_files",{file_paths:t,dest:e,create_dest_folder:n})).data,z=async(t,e,n)=>(await r.value.post("/copy_files",{file_paths:t,dest:e,create_dest_folder:n})).data,T=async t=>{await r.value.post("/mkdirs",{dest_folder:t})},A=t=>{const e=[];return t.shiftKey&&e.push("Shift"),t.ctrlKey&&e.push("Ctrl"),t.metaKey&&e.push("Cmd"),(t.code.startsWith("Key")||t.code.startsWith("Digit"))&&e.push(t.code),e.join(" + ")},H=t=>{const e=b("");return new Promise(n=>{i.confirm({title:o("inputFolderName"),content:()=>s(O,{value:e.value,"onUpdate:value":a=>e.value=a},null),async onOk(){if(!e.value)return;const a=x(t,e.value);await T(a),n()}})})},K=()=>s("p",{style:{background:"var(--zp-secondary-background)",padding:"8px",borderLeft:"4px solid var(--primary-color)"}},[I("Tips: "),o("multiSelectTips")]),U=t=>{i.confirm({width:"80vw",title:t.name,icon:null,content:()=>s("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},[s("video",{style:{maxHeight:g?"80vh":"60vh"},src:d(t),controls:!0,autoplay:!0},null),s("div",{class:"actions",style:{marginTop:"16px"}},[s(h,{onClick:()=>v([d(t,!0)])},{icon:s(M,null,null),default:o("download")})])]),maskClosable:!0,wrapClassName:"hidden-antd-btns-modal"})},B=()=>{i.confirm({title:o("confirmRebuildImageIndex"),onOk:async()=>{await S(),y.emit("searchIndexExpired"),w.success(o("rebuildComplete"))}})};export{K as M,V as a,H as b,z as c,_ as d,U as e,A as g,P as l,R as m,B as o,E as t};
