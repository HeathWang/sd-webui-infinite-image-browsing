import{X as _e,Y as be,d as Z,u as ke,Z as E,g as B,$ as ye,h as I,c as p,a0 as we,a1 as Ce,a2 as Oe,a3 as $e,a4 as Ie,a5 as xe,a as ae,a6 as Te,P as S,a7 as Se,a8 as Pe,a9 as ze,aa as Me,ab as Ne,ac as De,ad as Ee,ae as Ae,af as pe,ag as Le,Q as X,ah as k,ai as Re,T as Fe,aj as He,ak as Y,al as G,o as m,m as P,n as b,x as T,v as i,am as je,V as Be,M as Ve,k as qe,an as Ge,ao as oe,y as _,p as a,r as h,C,q as x,ap as se,z as V,A as q,aq as Q,ar as We,as as Ue,U as Qe,at as Xe,au as Ye,W as Ze}from"./index-5f58fa79.js";import{a as Je,r as Ke}from"./db-5a33988f.js";import{D as et}from"./index-6593cfe3.js";/* empty css              */var tt={success:Se,info:Pe,error:ze,warning:Me},nt={success:Ne,info:De,error:Ee,warning:Ae},at=be("success","info","warning","error"),ot=function(){return{type:S.oneOf(at),closable:{type:Boolean,default:void 0},closeText:S.any,message:S.any,description:S.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:S.any,closeIcon:S.any,onClose:Function}},st=Z({compatConfig:{MODE:3},name:"AAlert",inheritAttrs:!1,props:ot(),setup:function(e,t){var l=t.slots,u=t.emit,y=t.attrs,w=t.expose,O=ke("alert",e),A=O.prefixCls,z=O.direction,$=E(!1),L=E(!1),R=E(),W=function(o){o.preventDefault();var d=R.value;d.style.height="".concat(d.offsetHeight,"px"),d.style.height="".concat(d.offsetHeight,"px"),$.value=!0,u("close",o)},n=function(){var o;$.value=!1,L.value=!0,(o=e.afterClose)===null||o===void 0||o.call(e)};w({animationEnd:n});var r=E({});return function(){var v,o,d=e.banner,M=e.closeIcon,N=M===void 0?(v=l.closeIcon)===null||v===void 0?void 0:v.call(l):M,s=e.closable,g=e.type,D=e.showIcon,U=B(l,e,"closeText"),F=B(l,e,"description"),te=B(l,e,"message"),H=B(l,e,"icon");D=d&&D===void 0?!0:D,g=d&&g===void 0?"warning":g||"info";var he=(F?nt:tt)[g]||null;U&&(s=!0);var f=A.value,me=ye(f,(o={},I(o,"".concat(f,"-").concat(g),!0),I(o,"".concat(f,"-closing"),$.value),I(o,"".concat(f,"-with-description"),!!F),I(o,"".concat(f,"-no-icon"),!D),I(o,"".concat(f,"-banner"),!!d),I(o,"".concat(f,"-closable"),s),I(o,"".concat(f,"-rtl"),z.value==="rtl"),o)),fe=s?p("button",{type:"button",onClick:W,class:"".concat(f,"-close-icon"),tabindex:0},[U?p("span",{class:"".concat(f,"-close-text")},[U]):N===void 0?p(we,null,null):N]):null,ve=H&&(Ce(H)?Oe(H,{class:"".concat(f,"-icon")}):p("span",{class:"".concat(f,"-icon")},[H]))||p(he,{class:"".concat(f,"-icon")},null),ge=$e("".concat(f,"-motion"),{appear:!1,css:!0,onAfterLeave:n,onBeforeLeave:function(j){j.style.maxHeight="".concat(j.offsetHeight,"px")},onLeave:function(j){j.style.maxHeight="0px"}});return L.value?null:p(Te,ge,{default:function(){return[Ie(p("div",ae(ae({role:"alert"},y),{},{style:[y.style,r.value],class:[y.class,me],"data-show":!$.value,ref:R}),[D?ve:null,p("div",{class:"".concat(f,"-content")},[te?p("div",{class:"".concat(f,"-message")},[te]):null,F?p("div",{class:"".concat(f,"-description")},[F]):null]),fe]),[[xe,!$.value]])]}})}}});const lt=_e(st);var ct={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"};const it=ct;function le(c){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},l=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable}))),l.forEach(function(u){rt(c,u,t[u])})}return c}function rt(c,e,t){return e in c?Object.defineProperty(c,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):c[e]=t,c}var J=function(e,t){var l=le({},e,t.attrs);return p(pe,le({},l,{icon:it}),null)};J.displayName="FileDoneOutlined";J.inheritAttrs=!1;const ut=J;var dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const pt=dt;function ce(c){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},l=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable}))),l.forEach(function(u){ht(c,u,t[u])})}return c}function ht(c,e,t){return e in c?Object.defineProperty(c,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):c[e]=t,c}var K=function(e,t){var l=ce({},e,t.attrs);return p(pe,ce({},l,{icon:pt}),null)};K.displayName="LockOutlined";K.inheritAttrs=!1;const ie=K;const re=async c=>{let e;if({}.TAURI_ARCH){const t=await Le({directory:!0});if(typeof t=="string")e=t;else return}else e=await new Promise(t=>{const l=E("");X.confirm({title:k("inputTargetFolderPath"),content:()=>Re(Fe,{value:l.value,"onUpdate:value":u=>l.value=u}),async onOk(){const u=l.value;(await He([u]))[u]?t(l.value):Y.error(k("pathDoesNotExist"))}})});X.confirm({content:k("confirmToAddToExtraPath"),async onOk(){await Je({type:c,path:e}),Y.success(k("addCompleted")),G.emit("searchIndexExpired"),G.emit("updateGlobalSetting")}})},ue=(c,e)=>{X.confirm({content:k("confirmDelete"),closable:!0,async onOk(){await Ke({type:e,path:c}),Y.success(k("removeCompleted")),G.emit("searchIndexExpired"),G.emit("updateGlobalSetting")}})},de=Z({__name:"actionContextMenu",emits:["openOnTheRight","openInNewTab"],setup(c,{emit:e}){const t=l=>{switch(l.key.toString()){case"openOnTheRight":e("openOnTheRight");break;case"openInNewTab":e("openInNewTab");break}};return(l,u)=>{const y=Be,w=Ve,O=et;return m(),P(O,{trigger:["contextmenu"]},{overlay:b(()=>[p(w,{onClick:t},{default:b(()=>[p(y,{key:"openOnTheRight"},{default:b(()=>[T(i(l.$t("openOnTheRight")),1)]),_:1}),p(y,{key:"openInNewTab"},{default:b(()=>[T(i(l.$t("openInNewTab")),1)]),_:1})]),_:1})]),default:b(()=>[je(l.$slots,"default")]),_:3})}}}),ee=c=>(Xe("data-v-aeb2b871"),c=c(),Ye(),c),mt={class:"container"},ft={class:"header"},vt={key:0,style:{"margin-left":"16px","font-size":"1.5em"}},gt=ee(()=>a("div",{"flex-placeholder":""},null,-1)),_t=ee(()=>a("a",{href:"https://github.com/zanllp/sd-webui-infinite-image-browsing",target:"_blank",class:"last-record"},"Github",-1)),bt={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/blob/main/.env.example",target:"_blank",class:"last-record"},kt={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/wiki/Change-log",target:"_blank",class:"last-record"},yt={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/issues/90",target:"_blank",class:"last-record"},wt={class:"access-mode-message"},Ct=ee(()=>a("div",{"flex-placeholder":""},null,-1)),Ot={class:"content"},$t={class:"feature-item"},It={class:"text line-clamp-1"},xt=["onClick"],Tt={class:"text line-clamp-2"},St={key:0,class:"feature-item"},Pt={class:"text line-clamp-1"},zt=["onClick"],Mt={class:"text line-clamp-2"},Nt={class:"feature-item"},Dt=["onClick"],Et={class:"text line-clamp-1"},At={class:"text line-clamp-1"},Lt={class:"text line-clamp-1"},Rt={class:"text line-clamp-1"},Ft={key:1,class:"feature-item recent"},Ht={class:"title"},jt=["onClick"],Bt={class:"text line-clamp-1"},Vt=Z({__name:"emptyStartup",props:{tabIdx:{},paneIdx:{}},setup(c){const e=c,t=qe(),l=Ge(),u={local:k("local"),"tag-search":k("imgSearch"),"fuzzy-search":k("fuzzy-search"),"global-setting":k("globalSettings"),"batch-download":k("batchDownload")+" / "+k("archive")},y=(n,r,v=!1)=>{let o;switch(n){case"tag-search-matched-image-grid":case"img-sli":return;case"global-setting":case"tag-search":case"batch-download":case"fuzzy-search":case"empty":o={type:n,name:u[n],key:Date.now()+Q()};break;case"local":o={type:n,name:u[n],key:Date.now()+Q(),path:r,walkModePath:v?r:void 0}}return o},w=(n,r,v=!1)=>{const o=y(n,r,v);if(!o)return;const d=t.tabList[e.tabIdx];d.panes.splice(e.paneIdx,1,o),d.key=o.key},O=(n,r,v=!1)=>{const o=y(n,r,v);if(!o)return;t.tabList[e.tabIdx].panes.push(o)},A=(n,r,v=!1)=>{const o=y(n,r,v);if(!o)return;let d=t.tabList[e.tabIdx+1];d||(d={panes:[],key:"",id:Q()},t.tabList[e.tabIdx+1]=d),d.panes.push(o),d.key=o.key},z=oe(()=>{var n;return(n=t.tabListHistoryRecord)==null?void 0:n[1]}),$=oe(()=>t.quickMovePaths.filter(({key:n,type:r})=>n==="outdir_txt2img_samples"||n==="outdir_img2img_samples"||n==="outdir_txt2img_grids"||n==="outdir_img2img_grids"||r==="walk")),L=window.parent!==window,R=()=>window.parent.open("/infinite_image_browsing"+(window.parent.location.href.includes("theme=dark")?"?__theme=dark":"")),W=()=>{We(z.value),t.tabList=Ue(z.value.tabs)};return(n,r)=>{var d,M,N;const v=lt,o=Qe;return m(),_("div",mt,[a("div",ft,[a("h1",null,i(n.$t("welcome")),1),(d=h(t).conf)!=null&&d.enable_access_control&&h(t).dontShowAgain?(m(),_("div",vt,[p(h(ie),{title:"Access Control mode",style:{"vertical-align":"text-bottom"}})])):C("",!0),gt,_t,a("a",bt,i(n.$t("privacyAndSecurity")),1),a("a",kt,i(n.$t("changlog")),1),a("a",yt,i(n.$t("faq")),1)]),(M=h(t).conf)!=null&&M.enable_access_control&&!h(t).dontShowAgain?(m(),P(v,{key:0,"show-icon":""},{message:b(()=>[a("div",wt,[a("div",null,i(n.$t("accessControlModeTips")),1),Ct,a("a",{onClick:r[0]||(r[0]=x(s=>h(t).dontShowAgain=!0,["prevent"]))},i(n.$t("dontShowAgain")),1)])]),icon:b(()=>[p(h(ie))]),_:1})):C("",!0),a("div",Ot,[a("div",$t,[a("h2",null,i(n.$t("walkMode")),1),a("ul",null,[a("li",{onClick:r[1]||(r[1]=s=>h(re)("walk")),class:"item",style:{"text-align":""}},[a("span",It,[p(h(se)),T(" "+i(n.$t("add")),1)])]),(m(!0),_(V,null,q($.value,s=>(m(),P(de,{key:s.key,onOpenInNewTab:g=>O("local",s.dir,!0),onOpenOnTheRight:g=>A("local",s.dir,!0)},{default:b(()=>[a("li",{class:"item rem",onClick:x(g=>w("local",s.dir,!0),["prevent"])},[a("span",Tt,i(s.zh),1),s.can_delete?(m(),P(o,{key:0,type:"link",onClick:x(g=>h(ue)(s.dir,"walk"),["stop"])},{default:b(()=>[T(i(n.$t("remove")),1)]),_:2},1032,["onClick"])):C("",!0)],8,xt)]),_:2},1032,["onOpenInNewTab","onOpenOnTheRight"]))),128))])]),h(t).quickMovePaths.length?(m(),_("div",St,[a("h2",null,i(n.$t("launchFromQuickMove")),1),a("ul",null,[a("li",{onClick:r[2]||(r[2]=s=>h(re)("scanned")),class:"item",style:{"text-align":""}},[a("span",Pt,[p(h(se)),T(" "+i(n.$t("add")),1)])]),(m(!0),_(V,null,q(h(t).quickMovePaths.filter(s=>s.type!=="walk"),s=>(m(),P(de,{key:s.key,onOpenInNewTab:g=>O("local",s.dir),onOpenOnTheRight:g=>A("local",s.dir)},{default:b(()=>[a("li",{class:"item rem",onClick:x(g=>w("local",s.dir),["prevent"])},[a("span",Mt,i(s.zh),1),s.can_delete&&s.type=="scanned"?(m(),P(o,{key:0,type:"link",onClick:x(g=>h(ue)(s.dir,"scanned"),["stop"])},{default:b(()=>[T(i(n.$t("remove")),1)]),_:2},1032,["onClick"])):C("",!0)],8,zt)]),_:2},1032,["onOpenInNewTab","onOpenOnTheRight"]))),128))])])):C("",!0),a("div",Nt,[a("h2",null,i(n.$t("launch")),1),a("ul",null,[(m(!0),_(V,null,q(Object.keys(u),s=>(m(),_("li",{key:s,class:"item",onClick:x(g=>w(s),["prevent"])},[a("span",Et,i(u[s]),1)],8,Dt))),128)),a("li",{class:"item",onClick:r[3]||(r[3]=s=>h(l).opened=!0)},[a("span",At,i(n.$t("imgCompare")),1)]),L?(m(),_("li",{key:0,class:"item",onClick:R},[a("span",Lt,i(n.$t("openInNewWindow")),1)])):C("",!0),(N=z.value)!=null&&N.tabs.length?(m(),_("li",{key:1,class:"item",onClick:W},[a("span",Rt,i(n.$t("restoreLastRecord")),1)])):C("",!0)])]),h(t).recent.length?(m(),_("div",Ft,[a("div",Ht,[a("h2",null,i(n.$t("recent")),1),p(o,{onClick:r[4]||(r[4]=s=>h(t).recent=[]),type:"link"},{default:b(()=>[T(i(n.$t("clear")),1)]),_:1})]),a("ul",null,[(m(!0),_(V,null,q(h(t).recent,s=>(m(),_("li",{key:s.key,class:"item",onClick:x(g=>w("local",s.path),["prevent"])},[p(h(ut),{class:"icon"}),a("span",Bt,i(s.path),1)],8,jt))),128))])])):C("",!0)])])}}});const Qt=Ze(Vt,[["__scopeId","data-v-aeb2b871"]]);export{Qt as default};
